@import "tailwindcss";

/* Light (default) */
:root{
  --bg: 255 255 255;
  --bg-rgb: 255, 255, 255;
  --fg: 15 23 42;
  --fg-rgb: 15, 23, 42;
  --muted: 100 116 139;
  --muted-rgb: 100, 116, 139;
  --border: 226 232 240;
  --border-rgb: 226, 232, 240;
  --primary: 99 102 241;
  --primary-rgb: 99, 102, 241;
  --primary-fg: 255 255 255;
  --primary-fg-rgb: 255, 255, 255;
  --card: 255 255 255;
  --card-rgb: 255, 255, 255;
  --card-2: 248 250 252;
  --card-2-rgb: 248, 250, 252;
  --ring: 99 102 241;
  --ring-rgb: 99, 102, 241;
}

/* Dark override via data attribute (set by JS) */
html[data-theme="dark"]{
  --bg: 3 6 20;
  --bg-rgb: 3, 6, 20;
  --fg: 226 232 240;
  --fg-rgb: 226, 232, 240;
  --muted: 148 163 184;
  --muted-rgb: 148, 163, 184;
  --border: 31 41 55;
  --border-rgb: 31, 41, 55;
  --primary: 139 92 246;
  --primary-rgb: 139, 92, 246;
  --primary-fg: 255 255 255;
  --primary-fg-rgb: 255, 255, 255;
  --card: 9 13 28;
  --card-rgb: 9, 13, 28;
  --card-2: 12 16 34;
  --card-2-rgb: 12, 16, 34;
  --ring: 139 92 246;
  --ring-rgb: 139, 92, 246;
}

/* Optional: system fallback if no data-theme is set */
@media (prefers-color-scheme: dark){
  :root:not([data-theme]){
    --bg: 3 6 20;
    --fg: 226 232 240;
    --muted: 148 163 184;
    --border: 31 41 55;
    --primary: 139 92 246;
    --primary-fg: 255 255 255;
    --card: 9 13 28;
    --card-2: 12 16 34;
    --ring: 139 92 246;
  }
}

html,body{
  min-height:100%;
}

body{
  color: rgb(var(--fg));
  background:
    radial-gradient(1200px 600px at 80% -10%, rgba(99,102,241,.12), transparent 60%),
    radial-gradient(1000px 500px at 0% 0%, rgba(236,72,153,.10), transparent 60%),
    rgb(var(--bg));
}

/* (nice but subtle) theme transition */
body, .card, .card-solid, .btn, input, textarea, select {
  transition: background-color .18s ease, color .18s ease, border-color .18s ease, box-shadow .18s ease;
}

.muted{ color: rgb(var(--muted)); }

.link{ @apply underline hover:no-underline; }

.btn{
  @apply inline-flex items-center justify-center rounded-lg border text-sm px-3 py-2 transition;
  border-color: rgb(var(--border));
  background: rgb(var(--card));
}
.btn:hover{ background: rgb(var(--card-2)); }
.btn-primary{
  background: rgb(var(--primary));
  color: rgb(var(--primary-fg));
  border-color: rgb(var(--primary));
}
.btn-primary:hover{ filter: brightness(0.95); }

.card{
  @apply rounded-2xl border p-5;
  background: rgb(var(--card));
  border-color: rgb(var(--border));
}
.card-solid{
  @apply rounded-2xl p-5;
  background:
    linear-gradient(180deg, rgba(255,255,255,.06), transparent),
    rgb(var(--card));
  border: 1px solid rgb(var(--border) / 1);
}

input, textarea, select{
  @apply rounded-lg border px-3 py-2 text-sm outline-none w-full;
  border-color: rgb(var(--border));
  background: rgb(var(--card));
}
input:focus, textarea:focus, select:focus{
  box-shadow: 0 0 0 4px rgb(var(--ring) / .15);
  border-color: rgb(var(--ring));
}

table{ border-color: rgb(var(--border)); }
th, td{ border-color: rgb(var(--border)); }

.prose h1{ @apply text-3xl font-bold; }
.prose h2{ @apply text-2xl font-semibold mt-6; }
.prose p{ @apply leading-7; }

.brain3d-container::before{
  content:"";
  position:absolute;
  inset:-3px;
  border-radius:inherit;
  background:linear-gradient(120deg, rgba(14,165,233,.4), rgba(236,72,153,.35), rgba(99,102,241,.35));
  filter: blur(22px);
  opacity:.55;
  transition: opacity .4s ease;
  z-index:0;
}
.brain3d-container:hover::before{ opacity:.85; }
.brain3d-container::after{
  content:"";
  position:absolute;
  inset:0;
  border-radius:inherit;
  border:1px solid rgba(148,163,184,.22);
  box-shadow:
    0 0 22px rgba(59,130,246,.25),
    inset 0 0 16px rgba(139,92,246,.18);
  mix-blend-mode:screen;
  opacity:.65;
  pointer-events:none;
  z-index:1;
}

.brain3d-grid{
  border-radius:inherit;
  background:
    radial-gradient(480px 360px at 18% 18%, rgba(96,165,250,.28), transparent 60%),
    radial-gradient(380px 320px at 82% 12%, rgba(251,191,36,.22), transparent 65%),
    linear-gradient(135deg, rgba(59,130,246,.12), rgba(147,51,234,.08));
  mix-blend-mode:screen;
  opacity:.35;
  animation: brainPulse 12s ease-in-out infinite alternate;
}

.brain3d-scan{
  border-radius:inherit;
  background:
    repeating-linear-gradient(0deg, rgba(56,189,248,0) 0px, rgba(56,189,248,0) 14px, rgba(125,211,252,.3) 22px, rgba(56,189,248,0) 32px);
  mix-blend-mode:screen;
  opacity:.32;
  transform:translateY(-12%);
  animation: brainScan 9s linear infinite;
}

@keyframes brainPulse{
  0%{ opacity:.24; transform:scale(1); }
  100%{ opacity:.45; transform:scale(1.03); }
}

@keyframes brainScan{
  0%{ transform:translateY(-18%); }
  100%{ transform:translateY(18%); }
}
